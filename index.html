<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta content="width=device-width, initial-scale=1.0" name="viewport" />

    <title>Codeplatery</title>
    <meta content="" name="description" />
    <meta content="" name="keywords" />

    <link href="./assets/img/favicon.png" rel="icon" />
    <link href="./assets/img/apple-touch-icon.png" rel="apple-touch-icon" />

    <link
      href="https://fonts.googleapis.com/css?family=Open+Sans:300,300i,400,400i,600,600i,700,700i|Nunito:300,300i,400,400i,600,600i,700,700i|Poppins:300,300i,400,400i,500,500i,600,600i,700,700i"
      rel="stylesheet"
    />

    <link href="./assets/vendor/aos/aos.css" rel="stylesheet" />
    <link
      href="./assets/vendor/bootstrap/css/bootstrap.min.css"
      rel="stylesheet"
    />
    <link
      href="./assets/vendor/bootstrap-icons/bootstrap-icons.css"
      rel="stylesheet"
    />
    <link
      href="./assets/vendor/glightbox/css/glightbox.min.css"
      rel="stylesheet"
    />
    <link href="./assets/vendor/remixicon/remixicon.css" rel="stylesheet" />
    <link
      href="./assets/vendor/swiper/swiper-bundle.min.css"
      rel="stylesheet"
    />

    <link href="./assets/css/style.css" rel="stylesheet" />
    <script src="https://unpkg.com/typify.js@1.1.9/dist/typify.min.js"></script>
  </head>

  <body id="app">
    <header id="header" class="header">
      <div
        class="container-fluid container-xl d-flex align-items-center justify-content-between"
      >
        <a :href="'/'" class="logo d-flex align-items-center">
          <img src="assets/img/logo.png" alt="" />
          <span>{{ appName }}</span>
        </a>

        <nav id="navbar" class="navbar">
          <ul>
            <li><a class="nav-link scrollto active" href="#hero">Home</a></li>
            <li><a class="nav-link scrollto" href="#about">About</a></li>
            <li><a class="nav-link scrollto" href="#services">Services</a></li>
            <li>
              <a class="nav-link scrollto" href="#portfolio">Portfolio</a>
            </li>
            <li><a class="nav-link scrollto" href="#team">Team</a></li>
            <li><a class="nav-link scrollto" href="#contact">Contact</a></li>
            <li>
              <a class="getstarted scrollto" href="#about">Get Started</a>
            </li>
          </ul>
          <i class="bi bi-list mobile-nav-toggle"></i>
        </nav>
      </div>
    </header>

    <section id="hero" class="hero d-flex align-items-center">
      <div class="container">
        <div class="row">
          <div class="col-lg-6 d-flex flex-column justify-content-center">
            <h3
              class="wow fadeInUp"
              data-wow-delay="0.2s"
              id="typer-title"
            ></h3>
            <h1 data-aos="fade-up">{{ greeting.title }}</h1>
            <h2 data-aos="fade-up" data-aos-delay="400">
              {{ greeting.subtitle }}
            </h2>
            <div data-aos="fade-up" data-aos-delay="600">
              <div class="text-center text-lg-start">
                <a
                  :href="greeting.btnUrl"
                  target="__blank"
                  class="btn-get-started scrollto d-inline-flex align-items-center justify-content-center align-self-center"
                >
                  <span>{{ greeting.btnText }}</span>
                  <i class="bi bi-arrow-right"></i>
                </a>
              </div>
            </div>
          </div>
          <div
            class="col-lg-6 hero-img"
            data-aos="zoom-out"
            data-aos-delay="200"
          >
            <img
              :src="greeting.image"
              style="width: 400px; height: auto"
              class="img-fluid"
              alt=""
            />
          </div>
        </div>
      </div>
    </section>

    <main id="main">
      <section id="about" class="about">
        <div class="container" data-aos="fade-up">
          <div class="row gx-0">
            <div
              class="col-lg-6 d-flex flex-column justify-content-center"
              data-aos="fade-up"
              data-aos-delay="200"
            >
              <div class="content">
                <h3>Who We Are</h3>
                <h2>
                  Expedita voluptas omnis cupiditate totam eveniet nobis sint
                  iste. Dolores est repellat corrupti reprehenderit.
                </h2>
                <p>
                  Quisquam vel ut sint cum eos hic dolores aperiam. Sed deserunt
                  et. Inventore et et dolor consequatur itaque ut voluptate sed
                  et. Magnam nam ipsum tenetur suscipit voluptatum nam et est
                  corrupti.
                </p>
                <div class="text-center text-lg-start">
                  <a
                    href="#"
                    class="btn-read-more d-inline-flex align-items-center justify-content-center align-self-center"
                  >
                    <span>Read More</span>
                    <i class="bi bi-arrow-right"></i>
                  </a>
                </div>
              </div>
            </div>
  
            <div
              class="col-lg-6 d-flex align-items-center"
              data-aos="zoom-out"
              data-aos-delay="200"
            >
              <img src="assets/img/about.jpg" class="img-fluid" alt="" />
            </div>
          </div>
        </div>
      </section>
    </main>

    <footer id="footer" class="footer">
      <div class="footer-top">
        <div class="container">
          <div class="row gy-4">
            <div class="col-lg-5 col-md-12 footer-info">
              <a href="" class="logo d-flex align-items-center">
                <img src="assets/img/logo.png" alt="" />
                <span>{{ appName }}</span>
              </a>
              <p>{{ footer.info }}</p>
              <div class="social-links mt-3">
                <a
                  v-for="icon in footer.icons"
                  :href="icon.url"
                  :class="icon.icon_bi"
                ></a>
              </div>
            </div>

            <div class="col-lg-2 col-6 footer-links">
              <h4>Useful Links</h4>
              <ul>
                <li v-for="link in footer.useFulLinks">
                  <i class="bi bi-chevron-right"></i> <a :href="link.url">{{ link.name }}</a>
                </li>
              </ul>
            </div>

            <div class="col-lg-2 col-6 footer-links">
              <h4>Help</h4>
              <ul>
                <li v-for="link in footer.helpLinks">
                  <i class="bi bi-chevron-right"></i> <a :href="link.url">{{ link.name }}</a>
                </li>
              </ul>
            </div>

            <div
              class="col-lg-3 col-md-12 footer-contact text-center text-md-start"
            >
              <h4>Contact Us</h4>
              <p>
                <div v-html="footer.contact.address.replace(/,/g, '<br/>')"></div>
                <strong>Phone:</strong> {{ footer.contact.phone }}<br />
                <strong>Email:</strong> {{ footer.contact.email }}<br />
              </p>
            </div>
          </div>
        </div>
      </div>

      <div class="container">
        <div class="copyright">
          &copy; Copyright
          <strong><span>{{ footer.copyRight }}</span></strong> {{ new
          Date().getFullYear() }}. All Rights Reserved
        </div>
        <div class="credits">
          <a href="">{{ footer.powered_by }}</a>
        </div>
      </div>
    </footer>

    <a
      href="#"
      class="back-to-top d-flex align-items-center justify-content-center"
      ><i class="bi bi-arrow-up-short"></i
    ></a>

    <script src="./assets/vendor/purecounter/purecounter_vanilla.js"></script>
    <script src="./assets/vendor/aos/aos.js"></script>
    <script src="./assets/vendor/bootstrap/js/bootstrap.bundle.min.js"></script>
    <script src="./assets/vendor/glightbox/js/glightbox.min.js"></script>
    <script src="./assets/vendor/isotope-layout/isotope.pkgd.min.js"></script>
    <script src="./assets/vendor/swiper/swiper-bundle.min.js"></script>
    <script src="./assets/vendor/php-email-form/validate.js"></script>

    <script src="./assets/js/main.js"></script>

    <script type="module">
      import { createApp } from "https://unpkg.com/vue@3/dist/vue.esm-browser.js";

      const baseApiUrl = "https://codeplatery.kencang.id/api"; // use ur localhost if u running on your pc

      createApp({
        data() {
          return {
            appName: "Codeplatery",
            greeting: {
              title: "Codeplatery",
              subtitle: "Codeplatery is a web development agency.",
              btnText: "Who we are?",
              btnUrl: "#about",
              image: "./assets/img/hero-img.png",
              typerText: [
                "Web Development",
                "Web Design",
                "Product Management",
                "Marketing",
                "Graphic Design",],
            },
            footer: {
              info: "Codeplatery is a web development agency.",
              copyRight: "Codeplatery",
              poweredBy: "Codeplatery",
              icons: [],
              useFulLinks: [
                { name: "Home", url: "#hero" },
                { name: "About", url: "#about" },
                { name: "Services", url: "#services" },
                { name: "Portfolio", url: "#portfolio" },
                { name: "Team", url: "#team" },
                { name: "Contact", url: "#contact" },
              ],
              helpLinks: [{ name: "Web Design", url: "#" }],
              contact: {
                address: "A108 Adam Street, New York, NY 535022",
                phone: "+1 5589 55488 55",
                email: "codeplatery@gmail.com"
              }
            },
          };
        },
        async mounted() {
          this.fetchPage();
        },
        methods: {
          async fetchPage(){
            try {
              const response = await fetch(`${baseApiUrl}/page`);
              const { status, data } = await response.json();
              if (status === "success") {
                const { hero, typer_title, footer_info, footer_icons, footer_useful_links, footer_help_links, footer_contact, service } = data;
                this.updateGreeting(hero, typer_title);
                this.updateFooterInfo(footer_info, footer_icons, footer_useful_links, footer_help_links, footer_contact);
              } else {
                throw new Error("Failed to fetch page");
              }
            } catch (error) {
              console.error("Error fetching page:", error);
            }
            this.typerInitialize();
            document.addEventListener("click", this.handleMobileNavToggle);
          },
          updateGreeting({ title, sub_title, btn_text, btn_url, image_path }, typerTitles) {
            this.greeting = {
              title,
              subtitle: sub_title,
              btnText: btn_text,
              btnUrl: btn_url,
              image: image_path,
              typerText: typerTitles.map(item => item.title),
            };
          },
          updateFooterInfo({ info, copy_right, powered_by }, footerIcons, useFulLinks, helpLinks, footerContact) {
            this.footer = {
              info,
              copyRight: copy_right,
              poweredBy: powered_by,
              icons: footerIcons,
              useFulLinks,
              helpLinks,
              contact: footerContact,
            };
          },
          handleMobileNavToggle(event) {
            if (event.target.matches(".mobile-nav-toggle")) {
              const navbar = document.querySelector("#navbar");
              const mobileNavToggle = event.target;

              navbar.classList.toggle("navbar-mobile");
              mobileNavToggle.classList.toggle("bi-list");
              mobileNavToggle.classList.toggle("bi-x");
            }
          },
          typerInitialize(){
            Typify("#typer-title", {
              text: this.greeting.typerText,
              delay: 100,
              loop: true,
              cursor: true,
              stringDelay: 1000,
            });
          }
        },
        beforeUnmount() {
          document.removeEventListener("click", this.handleMobileNavToggle);
        },
      }).mount("#app");
    </script>
  </body>
</html>
